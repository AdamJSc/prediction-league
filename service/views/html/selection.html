{{define "selection"}}
    {{template "header" .}}
    {{$parent := .}}
    {{with .Data}}
        <div id="app" class="main-container container-fluid">
            {{if .Err}}
                <div class="row">
                    <div class="col-md-8 offset-md-2">
                        <div class="alert alert-danger">
                            <p>{{.Err}}</p>
                        </div>
                    </div>
                </div>
            {{else}}
                <div class="row">
                    <div class="col-md-8 offset-md-2">
                        <h1>Update My Selection</h1>
                    </div>
                </div>
                {{if .Selections.BeingAccepted}}
                    <div class="row">
                        <div class="col-md-8 offset-md-2">
                            <selection-countdown target="selection-close" unix="{{timestamp_as_unix .Selections.AcceptedUntil}}"></selection-countdown>
                        </div>
                    </div>
                    {{if $parent.IsLoggedIn}}
                        <div class="row">
                            <div class="col-md-8 offset-md-2">
                                <open-selection v-bind:entry="{id: '{{.Entry.ID}}', shortCode: '{{.Entry.ShortCode}}'}" raw-teams="{{.Teams.Raw}}" unix="{{timestamp_as_unix .Teams.LastUpdated}}"></open-selection>
                            </div>
                        </div>
                    {{else}}
                        <div class="row">
                            <div class="col-md-8 offset-md-2">
                                <selection-login></selection-login>
                            </div>
                        </div>
                    {{end}}
                {{else if .Selections.NextAcceptedFrom}}
                    <div class="row">
                        <div class="col-md-8 offset-md-2">
                            <selection-countdown target="selection-open" unix="{{timestamp_as_unix .Selections.NextAcceptedFrom}}"></selection-countdown>
                        </div>
                    </div>
                {{else}}
                    <div class="col-md-8 offset-md-2">
                        <p>That's it for the current season... Good luck!</p>
                    </div>
                {{end}}
            {{end}}
        </div>
    {{end}}
    {{template "footer"}}
{{end}}
